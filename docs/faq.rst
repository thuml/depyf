Frequently Asked Questions
===========================================

Is ``depyf`` a general purpose Python bytecode decompiler?
---------------------------------------------------------------------------

This package is intended to understand the generated PyTorch bytecode, and does not aim to fully cover all the syntax of Python. For example, async operations like ``async/await`` are not supported.

All the bytecode generated by PyTorch when benchmarking timm and huggingface transformers are collected `here <https://github.com/thuml/depyf/tree/master/pytorch_bytecode>`_. We can make several observations:

- No while loops (no jump back instructions).
- try-except-finally only has try-finally.
- No complicated conditions like ``if a and b or c or (d and e)``.

Then, we can overfit the decompiler to work for the bytecode generated by PyTorch. How? Pure labor work. Implement all bytecode for all the supported Python versions, one by one. Yes, that's it.

How do I know the set of supported bytecode?
----------------------------------------------------

You can see the coverage report by simply running ``python python_coverage.py``. The script is located in the `repository <https://github.com/thuml/depyf/blob/master/python_coverage.py>`_.